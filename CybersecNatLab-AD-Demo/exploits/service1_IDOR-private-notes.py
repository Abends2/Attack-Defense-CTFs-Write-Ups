from bs4 import BeautifulSoup
import requests


url = 'http://localhost:8080'


def view_notes(url):
	number_of_notes = 1

	while number_of_notes:
		resp = requests.get(url + f'/view/{number_of_notes}')
		if resp.status_code == 200:
			print(parser(data=resp.text))
			number_of_notes += 1
		else:
			break
	return 0


def parser(data):
	soup = BeautifulSoup(data, 'lxml')
	return f'[+] Note found: header - {soup.h1.text}; data - {soup.p.text}'


if __name__ == "__main__":
	view_notes(url=url)
	
